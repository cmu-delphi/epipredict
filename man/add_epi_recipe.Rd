% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/epi_recipe.R
\name{add_epi_recipe}
\alias{add_epi_recipe}
\alias{remove_epi_recipe}
\alias{update_epi_recipe}
\title{Given an \code{epi_recipe}, add it to, remove it from, or update it in an
\code{epi_workflow}}
\usage{
add_epi_recipe(x, recipe, ..., blueprint = default_epi_recipe_blueprint())

remove_epi_recipe(x)

update_epi_recipe(x, recipe, ..., blueprint = default_epi_recipe_blueprint())
}
\arguments{
\item{x}{A \code{workflow} or \code{epi_workflow}}

\item{recipe}{An epi recipe or recipe}

\item{...}{Not used}

\item{blueprint}{A hardhat blueprint used for fine tuning the preprocessing

\code{\link[=default_epi_recipe_blueprint]{default_epi_recipe_blueprint()}} is used.

Note that preprocessing done here is separate from preprocessing that
might be done automatically by the underlying model.}
}
\value{
\code{x}, updated with a new recipe preprocessor.
}
\description{
\itemize{
\item \code{add_recipe()} specifies the terms of the model and any preprocessing that
is required through the usage of a recipe.
\item \code{remove_recipe()} removes the recipe as well as any downstream objects
\item \code{update_recipe()} first removes the recipe, then replaces the previous
recipe with the new one.
}
}
\details{
\code{add_epi_recipe()} has the same behaviour as \code{\link[workflows:add_recipe]{workflows::add_recipe()}} but
sets a different default blueprint to automatically handle
\code{epiprocess::epi_df()} data.
}
\examples{
jhu <- covid_case_death_rates \%>\%
  filter(time_value > "2021-08-01")

r <- epi_recipe(jhu) \%>\%
  step_epi_lag(death_rate, lag = c(0, 7, 14)) \%>\%
  step_epi_ahead(death_rate, ahead = 7) \%>\%
  step_epi_lag(case_rate, lag = c(0, 7, 14)) \%>\%
  step_epi_naomit()

workflow <- epi_workflow() \%>\%
  add_epi_recipe(r)

workflow

r2 <- epi_recipe(jhu) \%>\%
  step_epi_lag(death_rate, lag = c(0, 7, 14)) \%>\%
  step_epi_ahead(death_rate, ahead = 7)

workflow <- update_epi_recipe(workflow, r2)

workflow <- remove_epi_recipe(workflow)

workflow

}
\seealso{
\code{\link[workflows:add_recipe]{workflows::add_recipe()}}
}
